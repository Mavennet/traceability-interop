name: Workflow Matrix Reporter

on: ['push']

jobs:
  test:
    name: Test
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      matrix:
        include:
          - name: 'Alice'
          - name: 'Bob'
          - name: 'Eve'
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Echo
        env:
          name: ${{matrix.name}}
        run: |
          date >> "./docs/test-data/$name.txt"
      - uses: actions/upload-artifact@v2
        with:
          name: test-data
          path: ./docs/test-data/
  review:
    name: Review
    needs:
      - test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/download-artifact@v2
        with:
          name: test-data
      - name: List
        run: |
          ls ./docs/test-data
